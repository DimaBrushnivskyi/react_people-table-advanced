(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{23:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var n=r(15),c=r.n(n),a=r(5),s=r(0),o=r.n(s),l=(r(23),r(2)),i=r(11),b=r(9),j=r(4),u=r(7),d=r.n(u),h=r(16),p=r.n(h),O=function(){var e=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,t.ok){e.next=8;break}throw new Error("Status: ".concat(t.status,"\n      - StatusText: ").concat(t.statusText));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=r(18),f=r(17),m=r.n(f),g=r(1),y=function(e){var t=e.person,r=Object(s.useState)(""),n=Object(j.a)(r,2),c=n[0],o=n[1],i=Object(l.f)().pathname.split("/")[2];return Object(g.jsx)(a.b,{to:"/people/".concat(t.slug),className:m()("Person__name",{highlight:c===i}),style:{color:"m"===t.sex?"blue":"red"},onClick:function(){return o(t.slug)},children:t.name})},v=function(e){var t=e.person;return Object(g.jsxs)("tr",{className:"Person",children:[Object(g.jsx)("td",{children:Object(g.jsx)(y,{person:t})}),Object(g.jsx)("td",{children:t.sex}),Object(g.jsx)("td",{children:t.born}),Object(g.jsx)("td",{children:t.died}),Object(g.jsx)("td",{children:t.mother?Object(g.jsx)(y,{person:t}):Object(g.jsx)("p",{style:{color:"black",fontSize:"bold"},children:t.motherName})}),Object(g.jsx)("td",{children:t.father?Object(g.jsx)(y,{person:t}):Object(g.jsx)("p",{style:{color:"black",fontSize:"bold"},children:t.fatherName})})]},t.slug)},k=[{key:"Name",label:"Name"},{key:"Sex",label:"Sex"},{key:"Born",label:"Born"},{key:"Died",label:"Died"},{key:"Mother",label:"Mother"},{key:"Father",label:"Father"}],N=o.a.memo((function(e){var t=e.arrayOfPeople,r=Object(s.useState)("asc"),n=Object(j.a)(r,2),c=n[0],a=n[1],o=Object(l.g)(),i=Object(l.f)(),b=new URLSearchParams(i.search),u=b.get("sortBy")||"",d=b.get("sortOrder")||"",h=Object(s.useCallback)((function(){return function(e,t,r){var n=Object(x.a)(e);switch(t){case"name":case"sex":return"asc"===r?n.sort((function(e,r){return e[t].localeCompare(r[t])})):n.sort((function(e,r){return r[t].localeCompare(e[t])}));case"born":return"asc"===r?n.sort((function(e,t){return e.born-t.born})):n.sort((function(e,t){return t.born-e.born}));case"died":return"asc"===r?n.sort((function(e,t){return e.died-t.died})):n.sort((function(e,t){return t.died-e.died}));default:return n}}(t,u,c)}),[t,u,c]),p=function(e){var t=e.currentTarget.innerText.toLowerCase();o("people?sortBy=".concat(t,"&sortOrder=").concat(c)),a("asc"===d?"desc":"asc")};return Object(g.jsxs)("table",{className:"PeopleTable",style:{borderCollapse:"collapse"},children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:k.map((function(e){return Object(g.jsxs)("th",{children:[Object(g.jsx)("button",{type:"button",style:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer"},onClick:"Mother"!==e.label&&"Father"!==e.label?p:void 0,children:e.label}),u===e.label.toLowerCase()?"*":"","asc"===d?Object(g.jsx)("img",{src:"/images/sort_asc.png",alt:"ascending arrow"}):Object(g.jsx)("img",{src:"/images/sort_desc.png",alt:"descending arrow"})]},e.key)}))})}),Object(g.jsx)("tbody",{children:h().map((function(e){return Object(g.jsx)(v,{person:e},e.slug)}))})]})})),w=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),r=t[0],n=t[1],c=Object(l.f)(),a=new URLSearchParams(c.search),o=Object(l.g)(),u=a.get("query")||"",h=Object(s.useState)(u),x=Object(j.a)(h,2),f=x[0],m=x[1],y=Object(s.useCallback)(p()((function(e){e?a.set("query",e):a.delete("query"),o("?query=".concat(a.toString()))}),500),[]),v=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=r.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{father:r.find((function(t){return t.name===e.fatherName}))||null,mother:r.find((function(t){return t.name===e.motherName}))||null})})).filter((function(e){return(e.name+e.fatherName+e.motherName).toLowerCase().includes(f.toLowerCase())}));return Object(s.useEffect)((function(){v()}),[f]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:"People Page"}),Object(g.jsx)("input",{type:"text",placeholder:"Find a person",className:"Person__input",value:f,onChange:function(e){m(e.target.value),y(e)}}),Object(g.jsx)(N,{arrayOfPeople:k})]})},P=function(){return Object(g.jsx)("h3",{children:"Home page"})},C=function(){return Object(g.jsx)("p",{children:"Page not found"})},S=function(e){var t=e.children;return Object(g.jsx)("header",{className:"header",children:t})},_=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{className:"title",children:"People table"}),Object(g.jsx)(S,{children:Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{className:"nav-bar",children:[Object(g.jsx)("li",{children:Object(g.jsx)(a.b,{to:"/",className:"nav-bar__link",title:"Visit Home Page",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(a.b,{to:"/people",className:"nav-bar__link",title:"Visit People Table",children:"People"})})]})})}),Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:"/",element:Object(g.jsx)(P,{})}),Object(g.jsx)(l.b,{path:"/people",element:Object(g.jsx)(w,{}),children:Object(g.jsx)(l.b,{path:":slug",element:y})}),Object(g.jsx)(l.b,{path:"/home",element:Object(g.jsx)(l.a,{to:"/",replace:!0})}),Object(g.jsx)(l.b,{path:"*",element:Object(g.jsx)(C,{})})]})]})};c.a.render(Object(g.jsx)(a.a,{children:Object(g.jsx)(_,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.12e036c5.chunk.js.map